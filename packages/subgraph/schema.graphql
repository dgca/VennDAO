type DaoFeeUpdated @entity(immutable: true) {
  id: Bytes!
  newFee: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type OrderFundsTransferred @entity(immutable: true) {
  id: Bytes!
  orderId: BigInt! # uint256
  recipient: Bytes! # address
  amount: BigInt! # uint256
  daoAmount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Order @entity {
  id: Bytes!
  orderId: BigInt! # uint256
  productId: BigInt! # uint256
  placedBy: Bytes! # address
  quantity: BigInt! # uint256
  refundRecipient: Bytes! # address
  orderTotal: BigInt! # uint256
  status: Int! # uint8
  createdAt: BigInt! # uint256
  publicFields: [String!]! # string[]
  encryptedFields: String! # string
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
  product: Product!
}

type OrderStatusUpdated @entity(immutable: true) {
  id: Bytes!
  orderId: BigInt! # uint256
  newStatus: Int! # uint8
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type OwnershipTransferred @entity(immutable: true) {
  id: Bytes!
  previousOwner: Bytes! # address
  newOwner: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type VendorRefundIssued @entity(immutable: true) {
  id: Bytes!
  orderId: BigInt! # uint256
  vendor: Bytes! # address
  amount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type VennDAOOrdersInitialized @entity(immutable: true) {
  id: Bytes!
  productsContract: Bytes! # address
  vendorsContract: Bytes! # address
  initialOwner: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}
type ContractOwnershipTransferred @entity(immutable: true) {
  id: Bytes!
  previousOwner: Bytes! # address
  newOwner: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}
type VennDAOProductsOwnershipTransferred @entity(immutable: true) {
  id: Bytes!
  previousOwner: Bytes! # address
  newOwner: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type ProductActiveStatusChanged @entity(immutable: true) {
  id: Bytes!
  VennDAOProducts_id: BigInt! # uint256
  active: Boolean! # bool
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Product @entity {
  id: Bytes!
  VennDAOProducts_id: BigInt! # uint256
  active: Boolean! # bool
  name: String! # string
  description: String! # string
  price: BigInt! # uint256
  minOrderQuantity: BigInt! # uint256
  maxOrderQuantity: BigInt! # uint256
  vendorTokenId: BigInt! # uint256
  publicFields: [String!]! # string[]
  encryptedFields: [String!]! # string[]
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
  orders: [Order!]! @derivedFrom(field: "product")
}
